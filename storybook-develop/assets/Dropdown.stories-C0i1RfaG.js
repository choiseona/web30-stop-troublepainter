import{j as l}from"./jsx-runtime-CkxqCPlQ.js";import{r as o}from"./index-DJO9vBfz.js";import{c as w}from"./cn-BM_CldAA.js";const E="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%2024%2024'%20stroke='currentColor'%20%3e%3cpath%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='2'%20d='M19%209l-7%207-7-7'%20/%3e%3c/svg%3e",j=({shortcutKey:t,handleChange:u,options:n})=>{const[i,s]=o.useState(!1),[r,a]=o.useState(-1),p=o.useRef(null),f=o.useRef([]),g=e=>{s(!1),a(-1),u(e)},m=o.useCallback(e=>{if(t&&e.key.toLowerCase()===t.toLowerCase()){s(c=>!c),a(-1);return}i&&(e.key==="ArrowDown"?a(c=>(c+1)%n.length):e.key==="ArrowUp"?a(c=>(c-1+n.length)%n.length):e.key==="Escape"&&(s(!1),a(-1)))},[t,i,n.length]),v=e=>{e.key==="Enter"&&r>=0&&(e.stopPropagation(),g(n[r]))},d=o.useCallback(e=>{p.current&&!p.current.contains(e.target)&&(s(!1),a(-1))},[]);return o.useEffect(()=>{var e;r>=0&&f.current[r]&&((e=f.current[r])==null||e.focus())},[r]),o.useEffect(()=>(document.addEventListener("keydown",m),document.addEventListener("mousedown",d),()=>{document.removeEventListener("keydown",m),document.removeEventListener("mousedown",d)}),[m,d]),{isOpen:i,focusedIndex:r,toggleDropdown:()=>s(e=>!e),handleOptionClick:g,dropdownRef:p,optionRefs:f,handleOptionKeyDown:v}},y=({options:t,handleChange:u,selectedValue:n,shortcutKey:i,className:s,...r})=>{const{isOpen:a,toggleDropdown:p,handleOptionClick:f,dropdownRef:g,optionRefs:m,handleOptionKeyDown:v}=j({handleChange:u,shortcutKey:i,options:t});return l.jsxs("div",{className:w("relative rounded-lg bg-eastbay-50 text-2xl",s),ref:g,...r,children:[l.jsxs("button",{onClick:p,className:"flex h-full w-full items-center justify-between rounded-lg border-2 border-violet-950 px-2 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-violet-500 focus-visible:ring-offset-2",children:[l.jsx("span",{className:"w-full text-center",children:n}),l.jsx("img",{src:E,alt:"드롭다운 메뉴 토글버튼",className:w("h-5 w-5 transition-transform duration-200",a&&"rotate-180")})]}),l.jsx("div",{className:w("absolute left-0 z-10 w-full rounded-lg bg-eastbay-50 shadow-lg","origin-top transform transition-all duration-200",!a&&"invisible scale-y-0"),children:l.jsx("div",{className:"overflow-hidden rounded-lg",children:t.map((d,e)=>l.jsx("button",{ref:c=>m.current[e]=c,onClick:()=>f(d),onKeyDown:v,className:w("w-full p-2 text-center transition-colors duration-200 ease-in-out hover:bg-violet-100 focus:bg-violet-200"),children:d},e))})})]})};y.__docgenInfo={description:"",methods:[],displayName:"Dropdown",props:{options:{required:!0,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},handleChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},selectedValue:{required:!0,tsType:{name:"string"},description:""},shortcutKey:{required:!1,tsType:{name:"KeyboardEvent['key']",raw:"KeyboardEvent['key']"},description:""}},composes:["HTMLAttributes"]};const x=["옵션 1","옵션 2","옵션 3"],L={title:"components/ui/Dropdown",component:y,argTypes:{options:{control:"object",description:"드롭다운에 표시될 옵션 목록"},selectedValue:{control:"select",options:x,description:"현재 선택된 값"},handleChange:{description:"값이 변경될 때 호출되는 함수",action:"changed"},className:{control:"text",description:"추가 스타일링"}},parameters:{docs:{description:{component:"사용자가 여러 옵션 중 하나를 선택할 수 있는 드롭다운 컴포넌트입니다.<br/><br/>드롭다운을 클릭하고 옵션을 선택해보세요."}}},tags:["autodocs"]},C=t=>{const[u,n]=o.useState(t.selectedValue);o.useEffect(()=>{n(t.selectedValue)},[t.selectedValue]);const i=s=>{n(s),t.handleChange(s)};return l.jsx(y,{...t,selectedValue:u,handleChange:i})},h={args:{selectedValue:x[0],options:x},render:t=>l.jsx(C,{...t})};var b,k,D;h.parameters={...h.parameters,docs:{...(b=h.parameters)==null?void 0:b.docs,source:{originalSource:`{
  args: {
    selectedValue: sampleOptions[0],
    options: sampleOptions
  },
  render: args => <DefaultExample {...args} />
}`,...(D=(k=h.parameters)==null?void 0:k.docs)==null?void 0:D.source}}};const R=["Default"];export{h as Default,R as __namedExportsOrder,L as default};
